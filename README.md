# 目的
RFC 5988では、要素はラップせずに返そう！って言っていますが、まだ賛否両論があると思います。なので、ラップしたケースとラップしていないケースのソースコードを残しておきます。

以下、[翻訳: WebAPI 設計のベストプラクティス](http://qiita.com/mserizawa/items/b833e407d89abd21ee72)の引用

> # 要素はラップせずに返そう

> 多くの API が、以下のように要素をラップした状態で返しています。
> 
```json
{
  "data" : {
    "id" : 123,
    "name" : "John"
  }
}
```

> なぜラップをするのかというと、こうしておくと付加的なメタデータやページングのデータを埋め込みやすいからです。HTTP クライアントの中には、レスポンスヘッダの参照がしづらいものもあるかもしれませんし、[JSONP](https://ja.wikipedia.org/wiki/JSONP) のリクエストではヘッダを参照する術がありません。しかしながら、世の中のスタンダードは [CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing) になりつつありますし、[RFC 5988](http://tools.ietf.org/html/rfc5988#page-6) では `Link` というレスポンスヘッダの仕様が提案されています。つまり、要素をラップする必要はなくなりつつあるわけです。

> 将来的には、デフォルトの状態ではラップをしていなく、特殊なケースに対応するときのみラップするようになるでしょう。

> では、ラップが必要な特殊ケースに出くわした時はどうしましょう。

> 先にも述べましたが、それが必要なのは JSONP を使ってクロスドメイン制約を解決するときと、HTTP クライアントがどうしてもレスポンスヘッダを扱えないときです。

> JSONP のリクエストは、`callback` や `jsonp` といったリクエストパラメータと一緒に来ます。API はこのパラメータを見つけ次第、ラップモードへとスイッチが切り替わります。どんな状態であれステータスコード `200` を返し、本来のステータスコードはラップした内側に埋め込みます。さらに、従来レスポンスヘッダに入れていたデータも内包させるのです。
> 
```js
callback_function({
  status_code: 200,
  next_page: "https://..",
  response: {
    ... actual JSON response body ... 
  }
})
```

> HTTP クライアントが対応していないときも同様で、`?envelop=true` のような何かしらのパラメータをトリガーにラップモードを発動させれば良いです（もちろん、この場合 JSONP コールバックは不要です）。
